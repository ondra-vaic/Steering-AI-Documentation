"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[364],{8618:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var i=t(4848),s=t(8453);const r={sidebar_position:5},a="BaseBehaviorParams",c={id:"documentation-core/base-system/BaseBehaviorParams",title:"BaseBehaviorParams",description:"This struct is passed into all behaviors. It has information about the entities matched by the BaseSteeringSystem's main entity query. There are several arrays, each containing EntityCount elements (with the exception of ArchetypeChunks and ChunkBaseIndexArray). Each array element has some information about an entity at index i in the query. The BaseBehaviorParams struct contains these fields:",source:"@site/docs/4_documentation-core/1_base-system/5_BaseBehaviorParams.md",sourceDirName:"4_documentation-core/1_base-system",slug:"/documentation-core/base-system/BaseBehaviorParams",permalink:"/Steering-AI-Documentation/docs/documentation-core/base-system/BaseBehaviorParams",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"SteeringEntityAuthoring",permalink:"/Steering-AI-Documentation/docs/documentation-core/base-system/steering-entity"},next:{title:"Components",permalink:"/Steering-AI-Documentation/docs/category/components"}},o={},d=[{value:"Indexing ArchetypeChunk",id:"indexing-archetypechunk",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"basebehaviorparams",children:"BaseBehaviorParams"})}),"\n",(0,i.jsxs)(n.p,{children:["This struct is passed into all ",(0,i.jsx)(n.a,{href:"/docs/category/behaviors",children:"behaviors"}),". It has information about the entities matched by the ",(0,i.jsx)(n.a,{href:"/docs/documentation-core/base-system/BaseSteeringSystem",children:(0,i.jsx)(n.code,{children:"BaseSteeringSystem"})}),"'s main ",(0,i.jsx)(n.a,{href:"/docs/documentation-core/queries/entity-queries",children:"entity query"}),". There are several arrays, each containing ",(0,i.jsx)(n.code,{children:"EntityCount"})," elements (with the exception of ",(0,i.jsx)(n.code,{children:"ArchetypeChunks"})," and ",(0,i.jsx)(n.code,{children:"ChunkBaseIndexArray"}),"). Each array element has some information about an entity at index ",(0,i.jsx)(n.code,{children:"i"})," in the query. The ",(0,i.jsx)(n.code,{children:"BaseBehaviorParams"})," struct contains these fields:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LocalToWorlds[EntityInQueryIndex]"})," - Entity's postion, rotation and scale."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Velocities[EntityInQueryIndex]"})," - Entity's current velocity from ",(0,i.jsx)(n.a,{href:"/docs/documentation-core/base-system/steering-entity",children:(0,i.jsx)(n.code,{children:"VelocityComponent"})}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CachedSpeeds[EntityInQueryIndex]"})," - Magnitude of entity's current velocity."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MaxSpeeds[EntityInQueryIndex]"})," - Entity's maximum speed from ",(0,i.jsx)(n.a,{href:"/docs/documentation-defaults/movement/overview",children:(0,i.jsx)(n.code,{children:"MaxSpeedComponent"})})," added by movement authoring."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Radii[EntityInQueryIndex]"})," - Entity's radius from ",(0,i.jsx)(n.a,{href:"/docs/documentation-core/base-system/steering-entity",children:(0,i.jsx)(n.code,{children:"RadiusComponent"})}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"IndexesArray[EntityInQueryIndex]"})," - Entity's ",(0,i.jsx)(n.code,{children:"Indexes"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ChunkBaseIndexArray[ChunkIndex]"})," - ",(0,i.jsx)(n.a,{href:"https://docs.unity3d.com/Packages/com.unity.entities@1.3/api/Unity.Entities.EntityQuery.CalculateBaseEntityIndexArrayAsync.html",children:"Chunk base index array"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ArchetypeChunks[ChunkIndex]"})," - ",(0,i.jsx)(n.a,{href:"https://docs.unity3d.com/Packages/com.unity.entities@1.3/manual/concepts-archetypes.html",children:"Archetype chunks"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"EntityCount"})," - Number of entities in the ",(0,i.jsx)(n.a,{href:"/docs/documentation-core/queries/entity-queries",children:"entity query"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DeltaTime"})," - Time since last frame."]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.code,{children:"ArchetypeChunks"})," to ",(0,i.jsx)(n.a,{href:"/docs/documentation-core/base-system/BaseBehaviorParams#indexing-archetypechunk",children:"lookup any component on an entity"}),"."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:'title="BaseBehaviorParams.cs"',children:"public struct BaseBehaviorParams\r\n{\r\n    public NativeArray<LocalToWorld> LocalToWorlds;\r\n    public NativeArray<VelocityComponent> Velocities;\r\n    public int EntityCount;\r\n    ...\r\n}\r\n\r\npublic struct Indexes\r\n{\r\n    public int ChunkIndex; // index of chunk in `ArchetypeChunks`\r\n    public int EntityInChunkIndex; // index of entity inside chunk\r\n    public int EntityInQueryIndex; // index of entity in query\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"indexing-archetypechunk",children:"Indexing ArchetypeChunk"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ArchetypeChunks"})," gives access to all ",(0,i.jsx)(n.a,{href:"https://docs.unity3d.com/Packages/com.unity.entities@1.0/manual/concepts-archetypes.html",children:"archetype chunks"})," of the entities. This can be used to look up any arbitrary component on them. ",(0,i.jsx)(n.a,{href:"https://docs.unity3d.com/Packages/com.unity.entities@1.0/manual/concepts-archetypes.html",children:(0,i.jsx)(n.code,{children:"ArchetypeChunk"})})," containing an entity can be found at it's ",(0,i.jsx)(n.code,{children:"ChunkIndex"}),". It's archetype inside the chunk is at ",(0,i.jsx)(n.code,{children:"EntityInChunkIndex"}),". The following example shows looking up ",(0,i.jsx)(n.a,{href:"https://docs.unity3d.com/Packages/com.unity.entities@1.3/manual/transforms-concepts.html",children:(0,i.jsx)(n.code,{children:"LocalToWorld"})})," on an entity."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",metastring:'title=""',children:"int i = ... // EntityInQueryIndex\r\nint chunkIndex = Indexes[i].ChunkIndex;\r\nint entityInChunkIndex = Indexes[i].EntityInChunkIndex;\r\n\r\nArchetypeChunk chunk = ArchetypeChunks[chunkIndex];\r\nNativeArray<LocalToWorld> transforms = chunk.GetNativeArray(ref Handle);\r\nLocalToWorld transform = transforms[entityInChunkIndex]\n"})})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
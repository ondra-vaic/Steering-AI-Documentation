---
sidebar_position: 6
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# 6. Flocking

<video controls width="800">
  <source src="/videos/samples/flocking/3D.mp4" type="video/mp4" />
  Your browser does not support the video tag.
</video>
*Flocking with 3D movement.*

This sample shows set up of flocking for all three movement types. Flocking here is the combination of three behaviors - *Alignment*, *Cohesion*, and *Separation* [link]. All these behaviors are included in the framework [link]. 

The first folder - *1. Behaviors* contains a scene for each behavior where the behavior is visualized and a scene where the combination of the behaviors is visualized. These samples are in folder *1. Behaviors*. Then there is a sample scene with flocking for each movement system. For example folder *2. 2D*. 

-----

<img src="/img/samples/flocking/Folder.png" alt="Description of the image"/>

## 1. Behaviors

<Tabs>
  <TabItem value="first" label="Scene"> 

    **Cohesion**

    This sample visualizes the result of the `CohesionJobWrapper`. This behavior makes the entity group up with it's neigbhors. The yellow arrow visualizes `VelocityResult`. The direction is `DesiredDirection`, the length is proportional to `DirectionDesire`. The radius where the behavior detects neighbors is shown with the yellow circle.

    <video controls width="800">
      <source src="/videos/samples/flocking/cohesion.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    **Alignment**
    
    This sample visualizes the result of the `AlignmentJobWrapper`. It aligns the entity's direction with it's neighbors. 

    <video controls width="800">
      <source src="/videos/samples/flocking/alignment.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    **Separation**

    This sample visualizes the result of the `SerpatationJobWrapper`. It seperates the entity from it's neigbhors.

    <video controls width="800">
      <source src="/videos/samples/flocking/separation.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    **Combination**

    This sample visualizes the combination of all three behaviors responsible for flocking - `CohesionJobWrapper`, `AlignmentJobWrapper`, `SerpatationJobWrapper`.

    <video controls width="800">
      <source src="/videos/samples/flocking/all-three.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

  </TabItem>
  
  <TabItem value="second" label="Steering System Asset"> 

    **FlockingBehaviorsSteeringAsset**:
    - ***Main Tag*** - `_6_SampleBehaviorsTagComponent`
    - ***Neighbor Behaviors*** - [`CohesionJobWrapper`, `AlignmentJobWrapper`, `SerpatationJobWrapper`]
    - ***Simple Behaviors*** - [`KeepSpeedJobWrapper`]
    - ***Prefab*** - *EntityFlocking*

    **Neighbor Behaviors**

    <img src="/img/samples/flocking/Asset.png" alt="Description of the image"/>

    **Single Behaviors**

    <img src="/img/samples/flocking/Asset2.png" alt="Description of the image"/>

  </TabItem>
  
  <TabItem value="third" label="Prefab"> 
    
    **Behavior Components**:
    - `CohesionAuthoring`
    - `AlignmentAuthoring`
    - `SeparationAuthoring`
    - `KeepSpeedAuthoring`

    **Other Components**:
    - `SteeringEntityAuthoring`
    - `DesiredVelocityAuthoring`
    - `Movement2DAuthoring`
    - `BoxLimiterAuthoring`
    
    <img src="/img/samples/flocking/Prefab.png" alt="Description of the image"/>

  </TabItem>
</Tabs>

## 2. 2D

<Tabs>
  <TabItem value="first" label="Scene"> 

    **2D Movement**
    
    In this scene you can toggle multiple different subscenes which have different setups of `CohesionAuthoring`, `AlignmentAuthoring`, `SeparationAuthoring`. If the entities go over a border set on `BoxLimiterAuthoring`, the entity is teleported to the oposite side. 

    <video controls width="800">
      <source src="/videos/samples/flocking/2D.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    
  </TabItem>
  
  <TabItem value="second" label="Steering System Asset"> 

    **Flocking2DSystemAsset**:
    - ***Main Tag*** - `_6_Sample2DTagComponent`
    - ***Neighbor Behaviors*** - [`CohesionJobWrapper`, `AlignmentJobWrapper`, `SerpatationJobWrapper`]
    - ***Simple Behaviors*** - [`KeepSpeedJobWrapper`]
    - ***Prefab*** - *EntityFlocking*

    **Neighbor Behaviors**

    <img src="/img/samples/flocking/Asset.png" alt="Description of the image"/>

    **Single Behaviors**

    <img src="/img/samples/flocking/Asset2.png" alt="Description of the image"/>

  </TabItem>
  
  <TabItem value="third" label="Prefab"> 
    
    **Behavior Components**:
    - `FollowPathAuthoring`

    **Other Components**:
    - `SteeringEntityAuthoring`
    - `DesiredVelocityAuthoring`
    - `Movement2DAuthoring`
    
    <img src="/img/samples/flocking/Prefab.png" alt="Description of the image"/>

  </TabItem>
</Tabs>

## 3. 3D

<Tabs>
  <TabItem value="first" label="Scene"> 
    
    **3D Movement**
    
    In this scene there are three different subscenes containing flocks of different sizes. The larger flock has a more optimized, but simpler neighbor query. This scene also shows usefullness of `HomingJobWrapper` which makes the entities stay withing a given areas. In the subscenes, the larger the flocks, the larger the homing radii on the `HomingComponents`. 

    <video controls width="800">
      <source src="/videos/samples/flocking/3D.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

  </TabItem>
  
  <TabItem value="second" label="Steering System Asset"> 

    **Flocking3DHugeSystemAsset**:
    - ***Main Tag*** - `_6_Sample3DLargeTagComponent`
    - ***Neighbor Behaviors*** - [`CohesionJobWrapper`, `AlignmentJobWrapper`, `SerpatationJobWrapper`, `HomingJobWrapper`]
    - ***Simple Behaviors*** - [`KeepSpeedJobWrapper`, `AlignUpJobWrapper`]
    - ***Prefab*** - *EntityFlockingHuge*

    **Neighbor Behaviors**

    <img src="/img/samples/flocking/3d/Asset.png" alt="Description of the image"/>

    **Single Behaviors**

    <img src="/img/samples/flocking/3d/Asset2.png" alt="Description of the image"/>

  </TabItem>
  
  <TabItem value="third" label="Prefab"> 
    
    **Behavior Components**:
    - `KeepSpeedAuthoring`
    - `AlignUpAuthoring`
    - `CohesionAuthoring`
    - `AlignmentAuthoring`
    - `SeparationAuthoring`
    - `MultiHomingAuthoring`

    **Other Components**:
    - `SteeringEntityAuthoring`
    - `DesiredVelocityAuthoring`
    - `Movement3DAuthoring`
    
    <img src="/img/samples/flocking/3d/Prefab.png" alt="Description of the image"/>

  </TabItem>
</Tabs>

## 4. 2.5D

<Tabs>
  <TabItem value="first" label="Scene"> 
    
    **2.5D Movement**
    
    This scene shows a flock set up on terrain, bordered by walls. The walls are a third option so far to constraint the entities within an area. The previous two options were `BoxLimiterSystem` and `MultiHomingJobWrapper`.

    <video controls width="800">
      <source src="/videos/samples/flocking/25D.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

  </TabItem>
  
  <TabItem value="second" label="Steering System Asset"> 

    **Flocking25DSystemAsset**:
    - ***Main Tag*** - `_6_Sample25TagComponent`
    - ***Neighbor Behaviors*** - [`CohesionJobWrapper`, `AlignmentJobWrapper`, `SerpatationJobWrapper`]
    - ***Simple Behaviors*** - [`KeepSpeedJobWrapper`]
    - ***Prefab*** - *EntityFlocking*

    **Neighbor Behaviors**

    <img src="/img/samples/flocking/25d/Asset.png" alt="Description of the image"/>

    **Single Behaviors**

    <img src="/img/samples/flocking/25d/Asset2.png" alt="Description of the image"/>

  </TabItem>
  
  <TabItem value="third" label="Prefab"> 
    
    **Behavior Components**:
    - `KeepSpeedAuthoring`
    - `CohesionAuthoring`
    - `AlignmentAuthoring`
    - `SeparationAuthoring`

    **Other Components**:
    - `SteeringEntityAuthoring`
    - `DesiredVelocityAuthoring`
    - `Movement25DAuthoring`
    - `KinematicBodyAuthoring`
    
    <img src="/img/samples/flocking/25d/Prefab.png" alt="Description of the image"/>

  </TabItem>
</Tabs>
---
sidebar_position: 2
---

# Entity Queries

## Overview

Entity queries are from the Unity's ECS package [link]. They find all entities matching some set of components. The base system runs an entity query which matches all entities with the same *Main Tag*. Information about these entities is then packaged as `BaseBehaviorParams` and passed around to all behaviors by the `BaseSteeringSystem`.

<img src="/img/core/EntityQuery.png" alt="Description of the image"/>
*`SteeringSystemAsset` with `_9_BirdPredatorTagComponent` tag selected as it's Main Tag.*

<video controls width="800">
    <source src="/videos/SimpleDebugJob.mp4" type="video/mp4" />
    Your browser does not support the video tag.
</video>

:::tip
`DebugSimpleJobWrapper` [link] can help you visualize which entities are matched by the `SteeringSystemAsset`'s main entity query.
:::
## Base Behavior Params

Contains information extracted from entities which matched an entity query. Each array has `EntityCount` elements. Each element at index `i` contains some piece of information about entity `i`. If you need to look up an arbitrary components on an entity, you can do so through `ArchetypeChunk` [link].

```csharp title="BaseBehaviorParams.cs"
public struct BaseBehaviorParams
{
    [ReadOnly] public NativeArray<LocalToWorld> LocalToWorlds;
    [ReadOnly] public NativeArray<VelocityComponent> Velocities;
    [ReadOnly] public NativeArray<float> Radii;
    [ReadOnly] public NativeArray<ArchetypeChunk> ArchetypeChunks;
    ...
}
```